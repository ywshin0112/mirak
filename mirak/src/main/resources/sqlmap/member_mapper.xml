<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="kr.co.mirak.member.MemberMapper">
  	<select id="login" parameterType="member" resultType="member">
  		<![CDATA[
 			SELECT MEM_ID FROM MEMBER WHERE MEM_ID=#{mem_id} AND MEM_PW=#{mem_pw}
 		]]>	
	</select>
 	<insert id="createUser" parameterType="member">
 		<![CDATA[
	 		INSERT INTO MEMBER (MEM_ID, MEM_PW , MEM_NAME, MEM_AGE, MEM_GENDER ,MEM_PHONE)
	 		VALUES(#{mem_id}, #{mem_pw}, #{mem_name} , #{mem_age} , #{mem_gender} , #{mem_phone})
 		]]>	
 	</insert>
	
	<update id="memupdate" parameterType="kr.co.mirak.member.MemberVO">
		<![CDATA[
			UPDATE MEMBER SET
				MEM_NAME = #{mem_name},
				MEM_AGE = #{mem_age},
				MEM_GENDER = #{mem_gender},
				MEM_PHONE = #{mem_phone}
			WHERE MEM_ID = #{mem_id}
		]]>
	</update>

	<delete id="memdelete" parameterType="kr.co.mirak.member.MemberVO">
		<![CDATA[
			DELETE FROM MEMBER
			WHERE MEM_ID = #{mem_id} and MEM_PW = #{mem_pw}
		]]>
	</delete>

 	<select id="getMemberList" resultType="member" parameterType="Int">
		<![CDATA[
			SELECT MEM_ID, MEM_NAME, MEM_AGE, MEM_GENDER, MEM_PHONE, MEM_REGDATE FROM MEMBER
			ORDER BY MEM_REGDATE
			LIMIT 10 OFFSET #{page}
		]]>	
	</select>
	
 	<select id="getMemberInfo" parameterType="String" resultType="member" >
		<![CDATA[
			SELECT MEM_ID, MEM_NAME, MEM_AGE, MEM_GENDER, MEM_PHONE, MEM_REGDATE FROM MEMBER
			WHERE MEM_ID=#{myid}
		]]>	
	</select>
	
	<!-- 아이디 확인 -->
	<select id="idCheck" parameterType="kr.co.mirak.member.MemberVO" resultType="int">
		SELECT count(*) FROM MEMBER WHERE mem_id= #{mem_id}
	</select>
	<!-- 아이디, 비번 확인 -->
	<select id="memberCheck" parameterType="kr.co.mirak.member.MemberVO" resultType="int">
		SELECT count(*) FROM MEMBER 
		WHERE mem_id= #{mem_id} 
		and mem_pw=#{mem_pw}
	</select>
 </mapper>