<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.mirak.product.ProductMapper">

	<insert id="insertProduct" parameterType="product">
		<![CDATA[
		INSERT INTO PRODUCT(pro_code, pro_name, pro_price,pro_desc,pro_image)
		VALUES(#{pro_code}, #{pro_name}, #{pro_price},#{pro_desc},#{pro_image})
		
		
		]]>
	</insert>


	<select id="productList"
		resultType="kr.co.mirak.product.ProductVO">
		
		<![CDATA[
 		SELECT pro_code, pro_name, pro_price, pro_desc, pro_image from product limit 6;
		
 		]]>

	</select>

	<select id="productList1"
		resultType="kr.co.mirak.product.ProductVO">

		select * from (select * from product)  as T1  where pro_code like '%P%' limit #{skip},#{amount}

	</select>

	<select id="productList2"
		resultType="kr.co.mirak.product.ProductVO">
select * from (select * from product)  as T1  where pro_code like '%T%' limit #{skip},#{amount}
		

	</select>

<!-- SELECT pro_code, pro_name, pro_price, pro_desc, pro_image from product where -->
<!-- 		pro_code like '%T%' -->
	<select id="productList3"
		resultType="kr.co.mirak.product.ProductVO">

		select * from (select * from product)  as T1  where pro_code like '%O%' limit #{skip},#{amount}

	</select>


	<select id="productDetail"
		resultType="kr.co.mirak.product.ProductVO">
		<![CDATA[
		SELECT *
		FROM PRODUCT
		WHERE pro_code = #{pro_code};
		]]>
	</select>


	<update id="updateProduct">
		<![CDATA[
			UPDATE PRODUCT SET
				pro_name = #{pro_name},
				pro_price = #{pro_price},
				pro_desc = #{pro_desc},
				pro_image = #{pro_image}
			WHERE pro_code = #{pro_code}
		]]>
	</update>


	<delete id="deleteProduct">
	<![CDATA[
			DELETE FROM PRODUCT WHERE pro_code=#{pro_code}
		]]>
	</delete>
	
	<!-- 	페이징 처리 (상품 총 개수 출력) -->
	<select id="getTotal" resultType="int">
		<![CDATA[
		select count(*) from product
		]]>
	</select>

	<select id="getListPaging"
		resultType="kr.co.mirak.product.ProductVO">
		
		<![CDATA[
  		 
		select * from (select * from product) as T1 limit #{skip},#{amount}
 		]]>

	</select>




</mapper>